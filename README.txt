# Marketplace API –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–∞

##  –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è CRUD API —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–∞ –¥–ª—è —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–ë—ç–∫–µ–Ω–¥**: .NET 8 WebAPI
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: In-memory (–¥–ª—è –¥–µ–º–æ), –≥–æ—Ç–æ–≤–æ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é PostgreSQL
- **–§–∞–π–ª—ã**: Yandex Object Storage (–∑–∞–≥–ª—É—à–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker

##  API Endpoints

### Products
- `GET    /api/products` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
- `GET    /api/products/{id}` - —Ç–æ–≤–∞—Ä –ø–æ ID
- `POST   /api/products` - —Å–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
- `PUT    /api/products/{id}` - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `PATCH  /api/products/{id}` - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /api/products/{id}` - —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä

### System
- `GET    /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞)

##  –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
bash
dotnet run
# –ò–ª–∏ —Å hot reload
dotnet watch run


API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞: http://localhost:5032

### Docker
bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t marketplace-api .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -d -p 8080:8080 marketplace-api

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
bash
curl -X POST http://localhost:5032/api/products \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",
    "price": 199.99
  }'


### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
bash
curl http://localhost:5032/api/products


##  –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ–º

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –¥–µ–ø–ª–æ—è:
1. **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å health check –Ω–∞ `/health`
2. **Object Storage**: –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
3. **Managed PostgreSQL**: –î–ª—è production –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
4. **Docker Registry**: –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production:
`env
ASPNETCORE_ENVIRONMENT=Production
DATABASE_URL=postgresql://user:pass@host:5432/db
YANDEX_BUCKET_NAME=marketplace-assets
YANDEX_REGION=ru-central1

##  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Swagger UI: http://localhost:5032/swagger
- Health check: http://localhost:5032/health

##  –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
MarketplaceApi/
‚îú‚îÄ‚îÄ Controllers/     # API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ Models/         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ Services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ Program.cs      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ Dockerfile      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îî‚îÄ‚îÄ README.md       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

##  –î–ª—è –∫–æ–º–∞–Ω–¥—ã
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Terraform –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ë–î (PostgreSQL)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≤ Object Storage
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ